<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="author" content="Yannik Schmidt">
  <link rel="shortcut icon" href="/defaultFavicon.ico">

  <title>Certificate Manager</title>

  <!-- Bootstrap core CSS -->
  <link href="https://cdn.atlantishq.de/static/css/bootstrap.min.css" rel="stylesheet">
  <link href="/static/site.css" rel="stylesheet">
  <script defer src="https://cdn.atlantishq.de/static/js/jquery.min.js"></script>
  <script defer src="https://cdn.atlantishq.de/static/js/bootstrap.js"></script>

</head>
<body>
    <h3 class="cn">Cert: {{ cert.get("CN") }}</h3>
    <div class="container">

        <button class="btn btn-primary">Revoke</button>

        {% if cert.is_revoked() %}
        <h2 style="color: red;">
            REVOKED
        </h2>
        <b style="color: red">
            (Reason: {{ cert.is_revoked().get_reason().decode("ascii") }})
        </b>
        {% endif %}

        <div class="info mt-4">
		  <div class="row">
			<div class="col-6">
              <table>
                  <thead>
                      <tr>
                          <th>Component</th>
                          <th>Value</th>
                      </tr>
                  </thead>
                  <tbody>
                      {% for key, value in cert.components.items() %}
                      <tr>
                          <td><b> {{ key }}  </b></td>
                          <td> {{ value }} </td>
                      </tr>
                      {% endfor %}
                  </tbody>
              </table>
			</div>
			<div class="col-6">
              <div class="row">
                  <div class="col"><b>Permissions</b></div>
                  <div class="col"></div>
			  </div>
              {% for key, value in cert.permissions.items() %}
              <div class="row">
			  	<div class="col">
			  		{{ key }}
			  	</div>
			  	<div class="col">
			  		{% if value %}
                      <i style="color: darkgreen;">Yes</i>
			  		{% else %}
                      <i style="color: red;">No</i>
			  		{% endif %}
				</div>
			  </div>
              {% endfor %}
			</div>
		  </div>
		  <div class="row">
            <div class="vpn-info mt-4">
                <input type=checkbox><i class="pl-2">Enable VPN Access</i></input>
                <div class="vpn-info-conditional pl-3 mt-2">
                    <input type=checkbox><i class="pl-2">Allow Server Access    </i></input><br>
                    <input type=checkbox><i class="pl-2">Allow Internal Access  </i></input><br>
                    <input type=checkbox><i class="pl-2">Allow Outgoing Traffic </i></input><br>
                    <input type=checkbox><i class="pl-2">Allow access FROM VPN  </i></input><br>
                </div>
            </div>
		  </div>
        </div>
    </div>
</body>
</html>
